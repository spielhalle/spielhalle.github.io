!function(){function t(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,f=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){f=!0,u=t},f:function(){try{a||null==n.return||n.return()}finally{if(f)throw u}}}}function r(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function e(t,r){return(e=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t})(t,r)}function n(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var e,n=u(t);if(r){var i=u(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return o(this,e)}}function o(t,r){return!r||"object"!=typeof r&&"function"!=typeof r?i(t):r}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function f(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,r,e){return r&&f(t.prototype,r),e&&f(t,e),t}!function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)e.d(n,o,(function(r){return t[r]}).bind(null,o));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s="SrcZ")}({SrcZ:function(r,o,u){"use strict";u.r(o);var f=function(){function t(r){a(this,t),this.left=this,this.right=this,this.top=this,this.bottom=this,this.column=r}return s(t,[{key:"linkDown",value:function(t){return t.bottom=this.bottom,t.bottom.top=t,t.top=this,this.bottom=t,t}},{key:"linkRight",value:function(t){return t.right=this.right,t.right.left=t,t.left=this,this.right=t,t}},{key:"removeLeftRight",value:function(){this.left.right=this.right,this.right.left=this.left}},{key:"reinsertLeftRight",value:function(){this.left.right=this,this.right.left=this}},{key:"removeTopBottom",value:function(){this.top.bottom=this.bottom,this.bottom.top=this.top}},{key:"reinsertTopBottom",value:function(){this.top.bottom=this,this.bottom.top=this}}]),t}(),c=function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&e(t,r)}(o,t);var r=n(o);function o(t){var e;return a(this,o),(e=r.call(this)).name=t,e.size=0,e.column=i(e),e}return s(o,[{key:"cover",value:function(){this.removeLeftRight();for(var t=this.bottom;t!==this;t=t.bottom)for(var r=t.right;r!==t;r=r.right)r.removeTopBottom(),r.column.size--}},{key:"uncover",value:function(){for(var t=this.top;t!==this;t=t.top)for(var r=t.left;r!==t;r=r.left)r.column.size++,r.reinsertTopBottom();this.reinsertLeftRight()}}]),o}(f),l=function(){function r(t,e){a(this,r),this.boardSize=e,this.isDone=!1,this.header=this.createDLXList(t)}return s(r,[{key:"createDLXList",value:function(r){for(var e=r[0].length,n=new c("header"),o=[],i=0;i<e;i++){var u=new c(i+"");o.push(u),n=n.linkRight(u)}n=n.right.column;var a,s=t(r);try{for(s.s();!(a=s.n()).done;)for(var l=a.value,h=void 0,v=0;v<e;v++)if(l[v]){var p=o[v],y=new f(p);null==h&&(h=y),p.top.linkDown(y),h=h.linkRight(y),p.size++}}catch(m){s.e(m)}finally{s.f()}return n.size=e,n}},{key:"selectColumnNodeHeuristic",value:function(){for(var t,r=Number.MAX_VALUE,e=this.header.right;e!==this.header;e=e.right)e.size<r&&(r=e.size,t=e);return t}},{key:"handleSolution",value:function(t){var r=this.parseSolution(t);this.isDone=this.resultCallback(r)}},{key:"parseSolution",value:function(r){var e,n,o=(e=this.boardSize,new Array(e).fill(0).map(function(){return new Array(e).fill(0)})),i=t(r);try{for(i.s();!(n=i.n()).done;){for(var u=n.value,a=u,f=parseInt(a.column.name,10),s=u.right;s!==u;s=s.right){var c=parseInt(s.column.name,10);c<f&&(f=c,a=s)}var l=parseInt(a.column.name,10),h=parseInt(a.right.column.name,10);o[Math.floor(l/this.boardSize)][l%this.boardSize]=h%this.boardSize+1}}catch(v){i.e(v)}finally{i.f()}return o}},{key:"search",value:function(t){if(!this.isDone)if(this.header.right===this.header)this.handleSolution(this.answer);else{var r=this.selectColumnNodeHeuristic();r.cover();for(var e=r.bottom;e!==r;e=e.bottom){this.answer.push(e);for(var n=e.right;n!==e;n=n.right)n.column.cover();this.search(t+1),r=(e=this.answer.splice(this.answer.length-1,1)[0]).column;for(var o=e.left;o!==e;o=o.left)o.column.uncover()}r.uncover()}}},{key:"runSolver",value:function(t){this.answer=[],this.isDone=!1,this.resultCallback=t,this.search(0)}}]),r}(),h=function(t,r,e,n){return(t-1)*n*n+(r-1)*n+(e-1)},v=function(t){return t[t.STARTING=0]="STARTING",t[t.RESULT=1]="RESULT",t[t.PROGRESS=2]="PROGRESS",t}({}),p=function(t){self.postMessage(t)};addEventListener("message",function(t){var r=t.data||9;p({boardSize:r,type:v.STARTING});var e,n,o,i,u=Date.now(),a=0,f=0;e=new Array(r).fill(0).map(function(){return new Array(r).fill(0)}),n=r,o=Math.sqrt(r),i=function(t,r,e){for(var n=function(t,r){var e=new Array(t*t*t).fill([]).map(function(){return new Array(t*t*4).fill(!1)}),n=0;return function(t,r,e,n){for(var o=r,i=1;i<=e;i+=n)for(var u=1;u<=e;u+=n)for(var a=1;a<=e;a++,o++)for(var f=0;f<n;f++)for(var s=0;s<n;s++)t[h(i+f,u+s,a,e)][o]=!0}(e,n=function(t,r,e){for(var n=r,o=1;o<=e;o++)for(var i=1;i<=e;i++,n++)for(var u=1;u<=e;u++)t[h(u,o,i,e)][n]=!0;return n}(e,n=function(t,r,e){for(var n=r,o=1;o<=e;o++)for(var i=1;i<=e;i++,n++)for(var u=1;u<=e;u++)t[h(o,u,i,e)][n]=!0;return n}(e,n=function(t,r,e){for(var n=r,o=1;o<=e;o++)for(var i=1;i<=e;i++,n++)for(var u=1;u<=e;u++)t[h(o,i,u,e)][n]=!0;return n}(e,n,t),t),t),t,r),e}(r,e),o=1;o<=r;o++)for(var i=1;i<=r;i++){var u=t[o-1][i-1];if(0!==u)for(var a=1;a<=r;a++)a!==u&&n[h(o,i,a,r)].fill(!1)}return n}(e,n,o),new l(i,n).runSolver(function(t){a+=1;var e=Date.now()-u;return(e-f>100||1===a)&&(f=e,p({board:t,boardSize:r,results:a,time:e,type:v.PROGRESS})),!1});var s=Date.now();p({boardSize:r,results:a,time:s-u,type:v.RESULT})})}})}();